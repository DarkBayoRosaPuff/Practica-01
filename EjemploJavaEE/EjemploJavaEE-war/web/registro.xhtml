<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html" xml:lang="es" lang="es" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" >
    
    <head>
        <title>Ejemplo de aplicaci&oacute;n web hecha en Java</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta charset="UTF-8"/>
        <meta name="author" content="DarkBayo" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <!--
        Si su página requiere de usar javascript, puede incluirlo aquí en el
        encabezado de la siguiente forma:
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
        <script type="text/Yjavascript" src="js/algun.js" ></script>
        -->
    </head>
    
    <body>
        <div>            
            <h:form >
                <br> </br>
                <b>Fecha de captura: </b>
                <h:inputText id="Fecha" binding="#{fecha}" />
                <b>(Formato YYYY-MM-DD)</b>
                
                <br> </br>
                <b>Nombre del capturista: </b>
                <h:inputText id="Nombre-capturista" binding="#{nombre}" />

                <br> </br>
                <b>Ganancia bruta: </b>
                <h:inputText id="Cantidad" binding="#{cantidad}" />
                <b>(Dato numerico)</b>
                
                <br> </br>                                
                <h:commandButton id="solicitar" value="Guardar"
                                 action="#{anfitrion.atiende(nombre.value, cantidad.value, fecha.value)}" />
                <!--
                Si necesitara validar un rango en un dato de entrada, puede usar
                algo como lo siguiente con las etiqeutas "f:"
                <h:inputText id="algun-texto" value="123" >
                    <f:validateLongRange minimum="0" />
                </h:inputText>
                -->
            </h:form>
            
            <br> </br>
            <p>-Fecha registrada:
              "#{anfitrion.fecha}" </p>
            <p>-Capturista registrado:
            "#{anfitrion.AManipular}"</p>
            <p>-Ganancia bruta registrada: 
             "#{anfitrion.bruto}"</p>
            <p>-IVA registrado:
              "#{anfitrion.IVA}" </p>
            <p>-Ganancia neta registrada: 
             "#{anfitrion.cantidad}"</p>            
            
            <br> </br>
            <p>-Contenidos de la base de datos-</p>
            <table>
                <tr>
                    <th >Fecha</th>
                    <th >|Capturista</th>
                    <th >|Ganancia Bruta</th>
                    <th >|IVA generado</th>
                    <th >|Venta Neta</th>
                </tr>
                <ui:repeat value="#{consultor.consultar()}" var="resultado" >
                    <tr >
                        <td>#{resultado.fecha}</td>
                        <td>|#{resultado.capturista}</td>
                        <td>|$#{resultado.ventaBruta}</td>
                        <td>|$#{resultado.IVA}</td>
                        <td>|$#{resultado.ventaNeta}</td>
                    </tr>
                </ui:repeat>
            </table>
            
            <br> </br>
            <a href="graph.xhtml" >-Ver estadisticas</a>
            <br> </br>
            
        </div>
    </body>
</html>
